info:
  title: ept-api
  version: 1.3.0
basePath: /
swagger: '2.0'
paths:
  /quotes:
    post:
      parameters:
        - in: body
          name: QuoteRequest
          description: QuoteRequest
          schema:
            $ref: '#/definitions/QuoteRequest'
      description: Return new Quote for given QuoteRequest
      produces:
        - application/json
      responses:
        '200':
          description: Valid QuoteRequest returns a Quote
          schema:
            $ref: '#/definitions/Quote'
        '400':
          description: Invalid QuoteRequest returns an Error
          schema:
            $ref: '#/definitions/ValidationError'
definitions:
  Quote:
    type: object
    properties:
      CustomerSector:
        type: string
        enum:
          - RBB
          - SME
      EntityType:
        type: string
        enum:
          - Sole Trader
          - Limited Liability Partnership
          - Limited Partnership
          - Partnership
          - Private Limited Company
          - Public Limited Company
          - Charity Incorporated
          - Charity Unincorporated
          - Club Society or Association
          - Local Authority
          - Pension
          - School or Academy
          - Trust
          - Other
      quotePack:
        type: object
        properties:
          baseRate:
            type: object
            $ref: '#/definitions/QuoteDetails'
            description: Returned only when productType is 'loan'
          fixedRate:
            type: object
            $ref: '#/definitions/QuoteDetails'
            description: Returned only when productType is 'loan'
          overdraftRate:
            type: object
            $ref: '#/definitions/QuoteDetails'
            description: Returned only when productType is 'overdraft'
          callToAction:
            type: object
            properties:
              PhoneNumber:
                type: string
                minLength: 10
                maxLength: 15
                pattern: '^(\d|\s)+$'
              openingHours:
                type: string
                minLength: 1
                maxLength: 250
          quotePackType:
            type: string
            enum:
              - Loan
              - Overdraft
          emailAddress:
            type: string
            format: email
          businessName:
            type: string
            minLength: 1
            maxLength: 250
          quoteExpiryDate:
            type: string
            format: date
          quoteReference:
            type: string
            minLength: 1
            maxLength: 250
  QuoteDetails:
    properties:
      interestType:
        type: string
        enum:
          - Base Rate
          - Fixed Rate
        description: Returned only when productType is 'loan'
      approvalLikehood:
        type: number
        minimum: 0
        maximum: 100
        description: Percentage between 0 - 100
      loanAmount:
        type: number
        minimum: 0
        description: Returned only when productType is 'loan'
      monthlyPaymentValue:
        type: string
        pattern: '^\d*,?\d+\.\d{2}$'
        description: Returned only when productType is 'loan'
      interestRate:
        type: number
        minimum: 0
      MonthUtilisationFee:
        type: string
        pattern: '^\d*,?\d+\.\d{2}$'
        description: Returned only when productType is 'overdraft' and turnover is between 0 - 1000000
      arrangementFeeValue:
        type: string
        pattern: '^\d*,?\d+\.\d{2}$'
        description: Returned only when productType is 'overdraft' and turnover is greater than 100000
      AnnualLimitFee:
        type: string
        pattern: '^\d*,?\d+\.\d{2}$'
        description: Returned only when productType is 'overdraft' and turnover is between 0 - 1000000
      TotalAmountPayableValue:
        type: string
        pattern: '^\d*,?\d+\.\d{2}$'
        description: Returned only when productType is 'loan'
      loanTerm:
        type: number
        minimum: 12
        maximum: 60
        description: Returned only when productType is 'loan'
      TotalInterestPayableValue:
        type: string
        pattern: '^\d*,?\d+\.\d{2}$'
        description: Returned only when productType is 'loan'
      approvalLikehoodLabel:
        type: string
        enum:
          - Likely
          - Very Likely
          - Unlikely
          - Very Unlikely
  QuoteRequest:
    type: object
    required:
      - title
      - tradingDateAndYear
      - sectorValue
      - businessType
      - businessName
      - turnover
      - profit
      - firstName
      - lastName
      - email
      - courtJudgements
      - bankruptcy
      - disqualifiedDirector
      - facilitiesApplied
      - residentialStatus
      - currentPersonalAccount
      - isExistingCust
      - productType
    properties:
      title:
        type: string
        enum:
          - Mr
          - Mrs
          - Miss
          - Ms
          - Dr
          - Sergeant
          - Professor
          - Lord
          - Lady
          - Dame
          - Commander
          - Brigadier
          - Sir
          - Father
          - Honourable
          - Reverend
          - Major
      tradingDateAndYear:
        type: string
        format: date
      sicCodeValue:
        type: string
        minLength: 6
        maxLength: 7
        pattern: '^\d{6,7}$'
      sectorValue:
        type: string
        enum:
          - Agriculture
          - Other Sectors
          - Manufacturing
          - Construction
          - Housing Associations
          - Motor Traders
          - Wholesale
          - Retail
          - Healthcare
          - Hotels and Bed & Breakfast Businesses
          - Camping, Caravan and Holiday Parks
          - Restaurants & Fast Food Outlets
          - Public Houses & Night Clubs
          - Haulage
          - Other Property
          - Property Development
          - Property Investment
          - Solicitors
          - Accountants
          - Recruitment Agencies
          - Independent Schools
          - Funeral Directors
        description: The sector field will only be used when the SIC code we receive is unknown.
      businessType:
        type: string
        enum:
          - Sole Trader
          - Limited Liability Partnership
          - Limited Partnership
          - Partnership
          - Private Limited Company
          - Public Limited Company
          - Charity Incorporated
          - Charity Unincorporated
          - Club Society or Association
          - Local Authority
          - Pension
          - School or Academy
          - Trust
          - Other
      businessName:
        type: string
        minLength: 1
        maxLength: 250
      turnover:
        type: number
        minimum: 0
      profit:
        type: number
      firstName:
        type: string
        minLength: 1
        maxLength: 250
      middleName:
        type: string
        minLength: 0
        maxLength: 250
      lastName:
        type: string
        minLength: 1
        maxLength: 250
      email:
        type: string
        format: email
      courtJudgements:
        type: boolean
      bankruptcy:
        type: boolean
      disqualifiedDirector:
        type: boolean
      facilitiesApplied:
        type: string
        enum:
          - '0'
          - '1'
          - '2+'
      residentialStatus:
        type: string
        enum:
          - Homeowner
          - Tenant
          - Other
      currentPersonalAccount:
        type: boolean
      parties:
        type: string
        enum:
          - '1'
          - '2+'
        description: Required when businessType is not 'Sole Trader'
      partnerCurrentPersonalAccount:
        type: boolean
        description: 'Required when businessType is one of the following: ''Limited Liability Partnership'', ''Limited Partnership'', ''Partnership''. Or parties is ''2+'' and businessType is one of the following: ''Private Limited Company'', ''Public Limited Company'', ''Charity Incorporated'', ''Charity Unincorporated'', ''Club Society or Association'', ''Local Authority'', ''Pension'', ''School or Academy'', ''Trust'', ''Other'''
      partnerResidentialStatus:
        type: string
        enum:
          - Homeowner
          - Tenant
          - Other
        description: 'Required when businessType is one of the following: ''Limited Liability Partnership'', ''Limited Partnership'', ''Partnership''. Or parties is ''2+'' and businessType is one of the following: ''Private Limited Company'', ''Public Limited Company'', ''Charity Incorporated'', ''Charity Unincorporated'', ''Club Society or Association'', ''Local Authority'', ''Pension'', ''School or Academy'', ''Trust'', ''Other'''
      isExistingCust:
        type: boolean
      productType:
        type: string
        enum:
          - loan
          - overdraft
      overdraftAmount:
        type: number
        description: Required when productType is 'overdraft'
        minimum: 500
        maximum: 25000
      loanAmount:
        type: number
        description: Required when productType is 'loan'
        minimum: 1000
        maximum: 25000
      loanTerm:
        type: number
        minimum: 12
        maximum: 60
        description: Required when productType is 'loan'
      interestRateType:
        type: string
        enum:
          - base
          - fixed
        description: Required when productType is 'loan'
  ValidationError:
    type: array
    items:
      type: object
      properties:
        path:
          type: string
        message:
          type: string
responses: {}
parameters: {}
securityDefinitions: {}
tags: []
